// Note that both of these arrays store a 0 in the final position to indicate the end of the data
// The first and second array contain pairs of amicable numbers for values less than 2 billion.
const int first[] = {220,1184,2620,5020,6232,10744,12285,17296,63020,66928,67095,69615,79750,100485,122265,122368,141664,142310,171856,176272,185368,196724,280540,308620,319550,356408,437456,469028,503056,522405,600392,609928,624184,635624,643336,667964,726104,802725,879712,898216,947835,998104,1077890,1154450,1156870,1175265,1185376,1280565,1328470,1358595,1392368,1466150,1468324,1511930,1669910,1798875,2082464,2236570,2652728,2723792,2728726,2739704,2802416,2803580,3276856,3606850,3786904,3805264,4238984,4246130,4259750,4482765,4532710,4604776,5123090,5147032,5232010,5357625,5385310,5459176,5726072,5730615,5864660,6329416,6377175,6955216,6993610,7275532,7288930,7489112,7577350,7677248,7800544,7850512,8262136,8619765,8666860,8754130,8826070,9071685,9199496,9206925,9339704,9363584,9478910,9491625,9660950,9773505,10254970,10533296,10572550,10596368,10634085,10992735,11173460,11252648,11498355,11545616,11693290,11905504,12397552,12707704,13671735,13813150,13921528,14311688,14426230,14443730,14654150,15002464,15363832,15938055,16137628,16871582,17041010,17257695,17754165,17844255,17908064,18056312,18194715,18655744,20014808,20022328,20308995,21448630,22227075,22249552,22508145,22608632,23358248,23389695,23628940,24472180,25596544,25966832,26090325,28118032,28608424,30724694,30830696,31536855,31818952,32205616,32642324,32685250,33501825,34256222,34364912,34765731,35115795,35361326,35373195,35390008,35472592,37363095,37784810,37848915,38400512,38637016,38663950,38783992,38807968,43096904,44139856,45263384,46237730,46271745,46521405,46555250,46991890,48639032,48641584,49215166,50997596,52695376,56055872,56512610,56924192,58580540,59497888,63560025,63717615,66595130,66854710,67729064,67738268,68891992,71015260,71241830,72958556,73032872,74055952,74386305,74769345,75171808,75226888,78088504,78447010,79324875,80422335,82633005,83135650,84521745,84591405,86158220,87998470,88144630,89477984,90437150,91996816,93837808,95629904,95791430,96304845,97041735,102023145,102719740,103034776,104887448,108734050,109410345,110960710,114944072,115259625,115447424,115749344,116654896,118458830,120812175,121293315,127924335,131118975,131483835,133089500,133178325,133768816,134312152,134886465,136549413,136770075,137424188,138605350,139009990,140744835,140815384,144788020,145040288,146648612,147366765,148077644,153015550,154190750,155578180,155797390,156226856,157151410,161088158,162936904,164733752,165323696,165742395,166737550,168930032,169000448,169335790,169652512,169884784,170566690,172271385,175032884,176632390,177997352,180038452,181088985,182702024,183408615,186753688,186878110,189406984,190888155,195857415,196421715,199432948,200328232,200879055,201168592,203055622,203972715,204134385,204756904,205843365,208693628,209027128,209309704,211319745,214748488,216392216,221397165,223878416,224888895,226540432,227443340,231111392,238162815,238238864,242126704,242182930,245618415,248658488,250876395,251302370,252551048,252940545,253703776,256755056,256948065,258904646,260231192,264764630,265192208,267217335,270039910,270208672,271048340,271629728,273141836,274638460,274893410,275304590,275631376,276339808,278247976,281499435,285627615,286000065,287250632,287793350,291679245,291974824,295824376,300120652,300208696,301685895,302424784,302770672,304443436,305178874,305363984,305911606,308939936,311414355,311913855,312090808,316293016,318323864,318580262,319682650,319904235,320829728,323401712,324644792,330811850,332448224,332573392,334438875,339981512,343175404,346657311,347263216,347401035,348782488,356775430,357197302,359156770,360027675,360172336,360759652,362645570,362700728,364182075,370032676,371840350,373305350,375401624,377141350,382170512,385465395,388904355,391548675,393463072,394800070,395378272,395939775,397287345,400250565,404185672,405370035,406640992,407641130,414195782,419640364,425948050,426191535,426386025,427448510,427950350,429035596,430848592,436386015,437888168,438362984,438452624,439232624,442480816,447761144,460122410,465605192,466389344,467406225,471696190,474179596,475838415,487169380,491373104,492275992,494495768,504555070,506468950,509379344,512412550,514439224,519257296,520218704,522145832,525254368,526271456,526552472,529714744,536637465,537882550,540759375,541114808,545134144,551388915,553978490,557346712,558173344,558410475,559334930,573216416,577884195,579926204,579980048,585057992,586188070,586200224,595858064,596668490,600418910,601020945,601235145,602035390,606235455,613290028,621354896,625955024,626323995,630007455,637756665,640001054,640866135,643006485,647314690,651016665,653078426,658009485,659084504,659854052,660792650,664747083,665113060,666030256,672672884,677781140,681310575,681709490,683490885,685939088,688679775,691075330,698002450,698049512,701168432,704374540,705023055,705280310,721522755,728921270,749380864,750893325,751953405,752458216,754484445,761197736,761511104,762662128,766292835,769289955,770805945,776813895,786882915,788056335,802162790,807848864,807964592,821903384,821921625,826499835,836535328,845397735,846862965,848764124,854687570,855737264,856305272,857161935,861314660,869530725,870675856,874591550,877324936,891089368,894012525,894690615,902335744,903825416,905196776,907960904,912404025,914746450,916021964,917168950,925949992,930793204,932913124,938304290,948760928,949308932,950850140,954392504,957871508,962951312,965615992,965674256,967887488,967947856,968410624,969473384,969642056,978888550,989779882,991838384,992776995,994945490,996088412,1000233608,1002372250,1002455350,1015866225,1016475064,1018330430,1020658815,1024706624,1033407104,1034955988,1040792450,1047381370,1047784504,1047827656,1049859195,1056277222,1066176716,1067740245,1069306732,1077722984,1082038815,1086272836,1086321110,1088205734,1090509248,1091947540,1093953735,1100526075,1101570165,1110676384,1112824370,1118297565,1123132540,1127508130,1129315275,1131258975,1133458150,1141149196,1148440336,1162074914,1179749410,1183083825,1191953763,1193945522,1195637144,1197281380,1206344152,1211220868,1212636350,1216541326,1216935225,1223289664,1224145112,1225052829,1237888448,1239061725,1239657136,1241180168,1241809540,1249677032,1251532282,1254255550,1255307438,1264688650,1272724250,1273481176,1273666394,1275751408,1277879584,1284072075,1289325975,1292286248,1303670522,1305577305,1309651310,1312909796,1321560765,1323789350,1327395368,1333290105,1335474855,1347375272,1348200032,1357689830,1363688048,1365633296,1375090832,1386737770,1395217845,1400735930,1420875830,1444854411,1448711355,1448998330,1456694650,1458334432,1470622335,1486565325,1502495085,1505175008,1517112765,1518524175,1525222575,1528753832,1532931010,1546818128,1548287895,1550703136,1558818261,1559105008,1559592628,1563999255,1574216272,1577617335,1600185752,1601150265,1607089672,1618057875,1626481616,1662154065,1666611045,1666776566,1667890144,1690397588,1699746184,1723336461,1728342296,1741985325,1750776704,1754082603,1755729656,1763439656,1775992725,1786492785,1793313730,1796310350,1812992710,1813297395,1819124752,1829456590,1888560272,1892277387,1892277488,1930301618,1954734364,1974754485, 0}; 
const int second[] = {284,1210,2924,5564,6368,10856,14595,18416,76084,66992,71145,87633,88730,124155,139815,123152,153176,168730,176336,180848,203432,202444,365084,389924,430402,399592,455344,486178,514736,525915,669688,686072,691256,712216,652664,783556,796696,863835,901424,980984,1125765,1043096,1099390,1189150,1292570,1438983,1286744,1340235,1483850,1486845,1464592,1747930,1749212,1598470,2062570,1870245,2090656,2429030,2941672,2874064,3077354,2928136,2947216,3716164,3721544,3892670,4300136,4006736,4314616,4488910,4445050,5120595,6135962,5162744,5504110,5843048,5799542,5684679,5812130,5495264,6369928,6088905,7489324,6371384,6680025,7418864,7158710,7471508,8221598,7674088,8493050,7684672,7916696,8052488,8369864,9627915,10638356,10893230,10043690,9498555,9592504,10791795,9892936,9437056,11049730,10950615,10025290,11791935,10273670,10949704,10854650,11199112,14084763,12070305,13212076,12101272,12024045,12247504,12361622,13337336,13136528,14236136,15877065,14310050,13985672,14718712,18087818,15882670,16817050,15334304,16517768,17308665,16150628,19325698,19150222,17578785,19985355,19895265,18017056,18166888,22240485,19154336,21457192,22823432,20955645,23030090,24644925,25325528,23111055,25775368,25233112,25132545,27428276,30395276,25640096,26529808,26138475,28128368,29603576,32174506,31652704,32148585,34860248,34352624,35095276,34538270,36136575,35997346,34380688,36939357,43266285,40117714,40105845,39259592,36415664,45663849,39944086,39202605,38938288,40678184,43362050,41654408,40912232,46715896,44916944,46137016,61319902,49125375,53011395,55880590,48471470,52967368,48852176,55349570,51737764,56208368,56598208,75866014,64562488,70507972,61953512,65003175,66011985,74824390,71946890,69439576,79732132,78437288,85458596,78057370,74733604,78469528,78166448,87354495,82824255,77237792,81265112,88110536,80960990,87133365,82977345,104177619,85603550,107908335,89590995,99188788,102358010,102814490,92143456,94372450,93259184,99899792,97580944,115187002,96747315,97945785,116970399,129063812,105016424,105064552,116251550,110132055,125222330,125269528,123757335,118458976,116983744,120115664,131819506,126671985,138690045,148532625,132926625,132692805,176374564,133471275,141213584,139057448,147382335,140207067,155711205,141993412,147313850,156322490,166562685,155709416,186088988,149364256,159017308,182028483,160128436,168392450,190889986,172610492,165195890,165181144,163634510,166706530,166679096,166212808,167155024,182622405,188953970,179904784,173499952,179029010,173269088,173843216,197704670,197261415,175826716,182618810,182108128,193486028,184694055,184713976,190055385,208059752,196323170,203592056,194594085,196214265,224703405,213484172,206790368,206393265,203314448,210627578,207429525,244869135,226163096,254264283,255308932,224355272,209816696,234587199,245201912,218772184,235831635,227342704,273272769,231465968,302651764,231923488,270560385,244730224,257841296,258410030,266560785,256201912,323303445,271244830,279327352,284847615,260678624,273568144,263110815,269448634,266171608,290441770,275148208,347397705,301444250,274655648,331636372,279947872,306014644,302514116,284512030,281534770,281207984,278431136,293288024,297034965,293528865,297390015,287551288,302793850,339731955,299001176,299072024,347620148,313576904,342005985,303107888,306676928,305517524,356714246,306962896,331160522,318479584,338659245,326754945,332345192,322375784,324492136,343312858,382593830,370086165,327818272,332270608,352731208,354858550,338290096,335955248,358687845,373803448,364682516,370393569,370414064,365917365,371171432,392753210,409205258,402020318,433850085,383753264,393667868,398531518,413408872,365012325,407256284,464106146,432893050,399982216,394237850,385592848,415773645,465418845,433398525,402877088,443597882,397151648,499717185,399052815,442792251,423336248,473836365,416370848,435691990,463973818,453610196,441853550,514780497,426684375,445018690,455921650,458447924,445657808,482909985,456351832,466417816,445419376,451335376,461479184,455118856,484817110,531830968,472453792,534612975,540842690,505757684,514823985,589230476,511419856,553544168,564811432,540539330,535495610,523679536,528145850,536022776,552549104,537213616,538318048,541358816,529709344,540314728,567997256,646745463,570975050,640415025,552968392,552877376,677841165,587641990,570983288,571181792,662939925,750516718,576387424,587323485,628681924,589141552,632663608,594986330,587353696,596654896,603557110,787621282,623232495,696285495,619418690,625482945,682191572,661063024,655391536,643272165,693778785,639580935,642416866,694532265,663361515,666518270,663576615,786829414,689830515,752700136,743584348,753402550,673747893,776681756,696630544,675728716,759308332,700743825,851406670,750610875,692097712,825955425,760392830,708157550,760728088,729739984,850529972,724885425,791333578,726368445,910259530,750555392,786508275,767949315,820021784,848771235,777413464,769560256,798845072,766512285,787384605,914053959,966751929,945492093,813177585,904824730,819234496,845947408,835551016,988676775,931912965,862396256,867557145,882865035,953056036,874694830,876651856,885518728,925581105,990788572,1045525275,895461104,986896450,890419064,993165032,991581075,934224585,903709952,972264184,1013228824,930631096,988724295,960133550,999258676,953023850,1001668568,999728396,1015026716,1344480478,951278752,1126001788,1047811252,1036457896,998051692,1003172848,1102800008,1019020144,1011081832,1031796176,1024180592,1043149816,1026197944,1048124570,1078636118,1025532496,1008990045,1331936326,1030959268,1089955192,1044659750,1005541130,1143995535,1160804936,1083289090,1055014785,1038911296,1064553376,1060676012,1101927550,1254314630,1182294536,1066553144,1055812485,1223576858,1085338804,1370813355,1142071892,1099987936,1135944225,1149067964,1208799850,1211001946,1106245312,1318446572,1153828665,1310033925,1119255435,1111963616,1227440590,1469555235,1421345732,1328325470,1210534965,1337154465,1173447770,1152070964,1202659184,1232933086,1278710750,1266759375,1223611389,1201062478,1239287656,1402100636,1307355848,1292953532,1246134850,1331747186,1457179335,1231545152,1309794088,1321639011,1252205632,1375056675,1307367344,1250055832,1594046252,1250808088,1438327814,1333078850,1331301202,1317021110,1450182118,1429002824,1408742566,1324082192,1316893856,1550746485,1323006825,1356413752,1325516038,1320982695,1359071890,1365507484,1432128195,1401348730,1355013592,1493441415,1532728665,1365152728,1358657968,1488948250,1448631952,1377316144,1453522768,1545591830,1534778955,1495046470,1527783370,1641399669,1599480645,1515731270,1564540550,1507257008,1564022145,1770369075,1509118611,1518631456,1607180355,1681271025,1571007825,1666015768,1580579390,1587981232,1703116905,1564984544,1596205611,1613013392,1595431244,1793979369,1640265488,1605082185,1768066408,1713637575,1677751928,1681454445,1684020784,1722609135,1670433435,1693008394,1720175264,1716168652,1725115256,1736119539,1747238104,1857784275,1762592896,1810205397,1873070344,1984203544,1798778475,1790052495,1806455870,1899881650,1994136890,1980008205,1897557008,1869016370,1932177328,1982313333,1972653712,1930741582,1981062116,1987985835, 0}; 

/* Since first array is sorted, apply binary search to spot a or b in first array */
int binarySearch(const int arr[], int size, int number) {
	int left = 0, right = size - 2, mid;
	while (left <= right) {
		mid = left + (right - left) / 2;                  // To avoid int overflow
		if (arr[mid] == number) {
			return mid;
		}
        if (arr[mid] < number) {
            left = mid + 1;
		} else {
            right = mid - 1;
		}
	}
	return -1;
}

/*
	Returns 1 if the two integers form an amicable pair, 0 otherwise.
	This code needs to function correctly regardless of the ordering.
	For example, check_amicable(220, 284) should return 1, as should
	check_amicable(284, 220).
	This function must work correctly for all integers up to 2 billion.
	Be sure that the function prototype remains intact.
*/
int check_amicable(int a, int b) {
    int arraySize = sizeof(first) / sizeof(first[0]);
	int aIndex = binarySearch(first, arraySize, a);				        // Search a in first array
	if (aIndex == -1) {	
		aIndex = binarySearch(first, arraySize, b);				        // If a not found in first, search b in first array
	}
	if (aIndex != -1 && (first[aIndex] == a && second[aIndex] == b) 	// Found both a and b at same indices of both arrays, found pair
		|| (first[aIndex] == b && second[aIndex] == a)) {
		return 1;
	}
	return 0;							                                // Any other case, not amicable pair
}

/*
	Short program to determine whether two numbers form an amicable pair.
	Do not change the code below (except for the values of num_a and num_b)
*/
int main() {
	const int num_a = 1982313333;
	const int num_b = 1892277387;

	return check_amicable(num_a, num_b);
}
